# ============================================
# Long-Form Memory System - Environment Configuration
# ============================================

# Application Environment
ENVIRONMENT=development  # development | staging | production
LOG_LEVEL=INFO
API_PORT=8000

# ============================================
# Database Configuration
# ============================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=long_form_memory
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password_here

# Redis Cache
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_CACHE_TTL=3600

# ============================================
# LLM Provider Configuration
# ============================================
# Choose one: openai | anthropic | groq
LLM_PROVIDER=groq

# OpenAI Configuration
OPENAI_API_KEY=your_openai_api_key_here
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_EXTRACTION_MODEL=gpt-4o-mini
OPENAI_MAIN_MODEL=gpt-4o

# Anthropic Claude Configuration
ANTHROPIC_API_KEY=your_anthropic_api_key_here
CLAUDE_MODEL=claude-3-5-sonnet-20241022

# Groq Configuration (Recommended for Speed)
GROQ_API_KEY=your_groq_api_key_here
GROQ_MODEL=llama-3.3-70b-versatile

# ============================================
# Embedding Configuration
# ============================================
# Choose one: openai | sentence-transformers
EMBEDDING_PROVIDER=sentence-transformers
EMBEDDING_MODEL=all-MiniLM-L6-v2
MEMORY_EMBEDDING_DIMENSION=384

# ============================================
# Authentication & Security
# ============================================
# Generate a secure secret key (min 32 characters)
# You can use: python -c "import secrets; print(secrets.token_urlsafe(32))"
JWT_SECRET_KEY=your-secret-key-change-in-production-min-32-chars
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7 days
REFRESH_TOKEN_EXPIRE_DAYS=30

# ============================================
# Rate Limiting (Production Security)
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100  # Per user
RATE_LIMIT_BURST=20
RATE_LIMIT_GLOBAL_PER_MINUTE=1000

# ============================================
# CORS Configuration
# ============================================
# Comma-separated list of allowed origins
# Development: use * or specific origins
# Production: MUST specify exact origins
CORS_ORIGINS=http://localhost:3000,http://localhost:8000,https://yourdomain.com
CORS_ALLOW_CREDENTIALS=true

# ============================================
# Security Headers
# ============================================
SECURITY_HEADERS_ENABLED=true

# ============================================
# Error Tracking (Sentry)
# ============================================
# Sign up at https://sentry.io for error tracking
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=0.1  # 10% of transactions
SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================
# Memory System Configuration
# ============================================
MEMORY_RETRIEVAL_TOP_K=10
MEMORY_CACHE_HOT_THRESHOLD=5
MEMORY_DECAY_DAYS=90
MEMORY_CONFIDENCE_THRESHOLD=0.7

# ============================================
# Performance Tuning
# ============================================
MAX_CONTEXT_TOKENS=4000
RETRIEVAL_TIMEOUT_MS=50
BATCH_EMBEDDING_SIZE=100
CONNECTION_POOL_SIZE=10

# ============================================
# Monitoring & Observability
# ============================================
PROMETHEUS_PORT=9090
ENABLE_METRICS=true

# ============================================
# Celery (Background Tasks)
# ============================================
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================
# Production Deployment Notes
# ============================================
# 
# ðŸ”’ SECURITY CHECKLIST:
# âœ“ Change JWT_SECRET_KEY to a random 32+ character string
# âœ“ Set ENVIRONMENT=production
# âœ“ Set CORS_ORIGINS to your actual domain(s)
# âœ“ Use strong PostgreSQL password
# âœ“ Enable HTTPS in production
# âœ“ Configure Redis password
# âœ“ Set up Sentry for error tracking
# âœ“ Review rate limits based on your traffic
# 
# ðŸš€ PERFORMANCE:
# âœ“ Use connection pooling (CONNECTION_POOL_SIZE=10-20)
# âœ“ Enable Redis caching
# âœ“ Monitor with Prometheus
# âœ“ Scale horizontally with load balancer
# 
# ðŸ“Š MONITORING:
# âœ“ Set up Sentry DSN for error tracking
# âœ“ Configure Prometheus for metrics
# âœ“ Monitor /health/detailed endpoint
# âœ“ Set up log aggregation (ELK, Datadog)
